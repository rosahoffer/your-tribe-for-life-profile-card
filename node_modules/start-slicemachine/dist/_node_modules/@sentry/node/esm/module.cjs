"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const path = require("../../utils/esm/path.cjs");
function normalizePath(path2) {
  return path2.replace(/^[A-Z]:/, "").replace(/\\/g, "/");
}
function getModule(filename) {
  if (!filename) {
    return;
  }
  const normalizedFilename = normalizePath(filename);
  const base = normalizePath(
    `${require && require.main && require.main.filename && path.dirname(require.main.filename) || global.process.cwd()}/`
  );
  const file = path.basename(normalizedFilename, ".js");
  const path$1 = path.dirname(normalizedFilename);
  let n = path$1.lastIndexOf("/node_modules/");
  if (n > -1) {
    return `${path$1.slice(n + 14).replace(/\//g, ".")}:${file}`;
  }
  n = `${path$1}/`.lastIndexOf(base, 0);
  if (n === 0) {
    let moduleName = path$1.slice(base.length).replace(/\//g, ".");
    if (moduleName) {
      moduleName += ":";
    }
    moduleName += file;
    return moduleName;
  }
  return file;
}
exports.getModule = getModule;
//# sourceMappingURL=module.cjs.map
