(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[477],{37782:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/changelog",function(){return r(57825)}])},57825:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return H}});var i,t,s=r(52322),o=r(97729),a=r.n(o),c=r(21658),l=r(65077),d=r(75289),p=r(56580),x=r(39092),g=r(2784),h=r(62230),u=r(12170),f=function(e){var n=e.type,r=e.hasUpToDateVersions;return(0,s.jsx)(d.xv,{sx:(0,h.Z)({padding:"0px 4px",borderRadius:"2px",fontSize:"8px",fontWeight:600,lineHeight:"16px",textTransform:"uppercase"},(n===i.Latest||n===i.LatestNonBreaking)&&{bg:"grey02",color:"code.gray"},n===i.Current&&r&&{bg:"lightGreen",color:"code.green"},n===i.Current&&!r&&{bg:"lightOrange",color:"code.orange"}),children:n})},v=function(e){var n=e.isSelected,r=e.onClick,i=e.versionNumber,t=e.tags,o=e.hasUpToDateVersions;return(0,s.jsxs)(d.kC,{sx:(0,h.Z)({p:1,borderRadius:"4px",cursor:"pointer",transition:"200ms all",justifyContent:"space-between",alignItems:"center"},n?{color:"purple",bg:(0,u.DZ)("purple",.95)}:{"&:hover":{bg:"grey01"}}),onClick:r,children:[(0,s.jsx)(d.xv,{children:i}),(0,s.jsx)(d.kC,{sx:{gap:"8px"},children:t.map(function(e){return(0,s.jsx)(f,{type:e,hasUpToDateVersions:o},e)})})]})};(t=i||(i={})).Latest="LATEST",t.LatestNonBreaking="LATEST-NON-BREAKING",t.Current="CURRENT";var m=function(e){var n,r=e.changelog,t=e.selectedVersion,o=e.selectVersion,a=function(e){var n=[];return e===l?n.push(i.Latest):e===r.sliceMachine.latestNonBreakingVersion&&n.push(i.LatestNonBreaking),e===r.sliceMachine.currentVersion&&n.push(i.Current),n},l=null===(n=r.sliceMachine.versions[0])||void 0===n?void 0:n.versionNumber,p=!r.adapter.updateAvailable&&!r.sliceMachine.updateAvailable;return(0,s.jsxs)(d.kC,{sx:{minWidth:"228px",borderRight:"1px dashed",borderColor:c.TV.color.greyLight6,flexDirection:"column",paddingRight:"48px"},children:[(0,s.jsxs)(d.kC,{sx:{flexDirection:"column",borderBottom:"1px dashed",borderColor:c.TV.color.greyLight6,paddingBottom:"28px"},children:[(0,s.jsx)(d.xv,{sx:{fontSize:"20px",fontWeight:500,lineHeight:"32px"},children:"Changelog"}),(0,s.jsx)(d.xv,{sx:{fontSize:"16px",fontWeight:500,lineHeight:"24px",marginTop:"28px"},children:"All versions"})]}),(0,s.jsx)(d.kC,{sx:{mt:"24px",flexDirection:"column",gap:"4px",overflow:"auto"},children:r.sliceMachine.versions.map(function(e,n){return(0,s.jsx)(v,{isSelected:(null==t?void 0:t.versionNumber)===e.versionNumber,onClick:function(){return o(e)},versionNumber:e.versionNumber,tags:a(e.versionNumber),hasUpToDateVersions:p},"versionBadge-".concat(e.versionNumber,"-").concat(n))})})]})},b={MAJOR:"MAJOR",MINOR:"MINOR",PATCH:"PATCH",FIRST:"FIRST"},j=function(e){var n=e.versionKind,r=(0,h.Z)({fontSize:"14px",padding:"2px 4px",borderRadius:"4px",textTransform:"uppercase"},n===b.MAJOR?{color:"purple",bg:(0,u.DZ)("purple",.85)}:{color:"grey05",bg:"grey02"});return(0,s.jsx)(d.xv,{sx:r,children:n})},k=r(19870),C=function(e){var n=e.releaseNote;return(0,s.jsx)(d.xv,{sx:{"h1, h2, h3":{fontSize:"16px",fontWeight:600,lineHeight:"20px"},p:{fontSize:"14px",fontWeight:400,lineHeight:"20px"},b:{fontSize:"14px",fontWeight:600,lineHeight:"20px"},code:{color:"code.orange"},li:{listStyleType:"disc",marginLeft:"25px",paddingLeft:"5px"}},dangerouslySetInnerHTML:{__html:k.TU.parse(n)}})},N=r(951),T=r(8346),y=function(e){var n,r,i,t,o,a=e.changelog,c=e.selectedVersion,l=e.packageManager,p=c.versionNumber===a.sliceMachine.versions[0].versionNumber,x=(n={sliceMachineVersionToInstall:p?"latest":c.versionNumber,isLatestSliceMachineVersion:p,adapterName:a.adapter.name},r=n.sliceMachineVersionToInstall,i=n.isLatestSliceMachineVersion,t=n.adapterName,o=["slice-machine-ui@".concat(r)],i&&o.push("".concat(t,"@latest")),o),g=function(e,n){var r=n.join(" ");switch(e){case"bun":return"bun add --development ".concat(r);case"npm":return"npm install --save-dev ".concat(r);case"pnpm":case"pnpm@6":return"pnpm add --save-dev ".concat(r);case"yarn":case"yarn@berry":return"yarn add --dev ".concat(r)}}(l,x),h=a.adapter.updateAvailable&&!a.sliceMachine.updateAvailable;return(0,s.jsxs)(s.Fragment,{children:[h&&p&&(0,s.jsxs)(d.kC,{sx:{padding:"16px",bg:"lightOrange",color:"darkOrange",fontSize:"13px",lineHeight:"24px",borderRadius:"4px",gap:"16px"},children:[(0,s.jsx)(N.CSE,{size:"24px"}),"It looks like you are using an outdated version of the adapter. Run this command to update your adapter:"]}),(0,s.jsxs)(d.kC,{sx:{flexDirection:"column",gap:"16px",padding:"16px",bg:"grey01"},children:[(0,s.jsx)(d.xv,{sx:{fontSize:"16px",fontWeight:500,lineHeight:"20px"},children:"How to install"}),(0,s.jsxs)(d.kC,{sx:{gap:"8px"},children:[(0,s.jsx)(T.Z,{codeStyle:{color:"white",flex:1,padding:"8px"},sx:{flex:1},children:g}),(0,s.jsx)(d.zx,{variant:"secondary",onClick:function(){navigator.clipboard.writeText(g)},children:"Copy"})]})]})]})},S=function(){return(0,s.jsxs)("div",{children:["Could not fetch release notes."," ",(0,s.jsx)("a",{href:"https://github.com/prismicio/slice-machine/releases",target:"_blank",rel:"noopener noreferrer",children:"Find out more on GitHub"})]})},M=function(e){var n,r=e.changelog,i=e.selectedVersion,t=e.packageManager;return(0,s.jsxs)(d.kC,{sx:{flexDirection:"column"},children:[(0,s.jsxs)(d.kC,{sx:{padding:"0px 0px 32px 32px",borderBottom:"1px dashed",borderColor:c.TV.color.greyLight6,justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)(d.xv,{sx:{fontSize:"24px",fontWeight:600,lineHeight:"32px"},children:"Version ".concat(i.versionNumber)}),!!i.kind&&(0,s.jsx)(j,{versionKind:i.kind})]}),(0,s.jsxs)(d.kC,{sx:{flexDirection:"column",padding:"24px 0px 0px 32px",gap:"24px"},children:[(null===(n=i.releaseNote)||void 0===n?void 0:n.includes("# Breaking Change"))&&(0,s.jsxs)(d.kC,{sx:{padding:"16px",bg:"lightOrange",color:"darkOrange",fontSize:"13px",lineHeight:"24px",borderRadius:"4px",gap:"16px"},"data-testid":"breaking-changes-warning",children:[(0,s.jsx)(N.CSE,{size:"24px"}),"This update includes breaking changes. To update correctly, follow the steps below."]}),(0,s.jsx)(y,{changelog:r,selectedVersion:i,packageManager:t}),(null==i?void 0:i.releaseNote)?(0,s.jsx)(C,{releaseNote:i.releaseNote}):(0,s.jsx)(S,{})]})]})},V=r(32665),L=r(3098),R=r(32038);function w(){var e=(0,p.v9)(function(e){return{changelog:(0,x.Sx)(e),packageManager:(0,x.Ak)(e),isChangelogLoading:(0,V.hg)(e,L.z.CHANGELOG)}}),n=e.changelog,r=e.packageManager,i=e.isChangelogLoading,t=n.sliceMachine.versions[0],o=(0,g.useState)(t||void 0),a=o[0],h=o[1];(0,g.useEffect)(function(){h(t)},[t]);var u=0===n.sliceMachine.versions.length||!a;return(0,s.jsx)(R.LN,{children:(0,s.jsx)(R.RN,{children:(0,s.jsx)(l.xR,{sx:{display:"flex",minWidth:0},children:i?(0,s.jsx)(c._3,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m,{changelog:n,selectedVersion:a,selectVersion:function(e){return h(e)}}),u?(0,s.jsx)(d.kC,{sx:{paddingLeft:"32px"},children:(0,s.jsx)(S,{})}):(0,s.jsx)(M,{changelog:n,selectedVersion:a,packageManager:r})]})})})})}function H(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{children:(0,s.jsx)("title",{children:"Changelog - Slice Machine"})}),(0,s.jsx)(w,{})]})}}},function(e){e.O(0,[870,774,888,179],function(){return e(e.s=37782)}),_N_E=e.O()}]);