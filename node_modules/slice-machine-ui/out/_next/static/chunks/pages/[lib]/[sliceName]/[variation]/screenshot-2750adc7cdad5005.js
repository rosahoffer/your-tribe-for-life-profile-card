(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197],{98528:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[lib]/[sliceName]/[variation]/screenshot",function(){return r(37489)}])},4597:function(n,e,r){"use strict";r.d(e,{Z:function(){return v}});var t,i=r(22710),o=r(62230),c=r(17064),u=r(99267),a=r(52322),s=r(2784),l=r(75289),d=r(16),f=r(90374),v=function(n){var e,r,t,v,h,m,p=n.apiContent,b=n.screenDimensions,g=n.simulatorUrl,_=n.dryRun,w=n.isScreenshot,S=void 0!==w&&w,x=(0,c.Z)((r=(e=(0,s.useState)())[0],t=e[1],v=(0,s.useRef)(),h=(0,s.useRef)(),[r,(0,s.useCallback)((m=(0,i.Z)(function(n){var e,r,o,c;return(0,u.__generator)(this,function(a){switch(a.label){case 0:if(null===(e=v.current)||void 0===e||e.disconnect(),null===(r=h.current)||void 0===r||r.disconnect(),t(void 0),!(null!=n))return[3,4];v.current=new d.SH(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,v.current.connect()];case 2:var s;return a.sent(),t(v.current),s=(0,i.Z)(function(){var n;return(0,u.__generator)(this,function(e){switch(e.label){case 0:return t(void 0),[4,null===(n=v.current)||void 0===n?void 0:n.connect({},!0)];case 1:return e.sent(),t(v.current),[2]}})}),o=function(){return s.apply(this,arguments)},h.current=new MutationObserver(function(n){n.forEach(function(n){"src"===n.attributeName&&o().catch(function(n){throw n})})}),h.current.observe(n,{attributeFilter:["src"]}),[3,4];case 3:return c=a.sent(),console.error(c),[3,4];case 4:return[2]}})}),function(n){return m.apply(this,arguments)}),[])]),2),y=x[0],k=x[1],Z=(0,f.Z)(),C=Z.connectToSimulatorSuccess,N=Z.connectToSimulatorFailure;(0,s.useEffect)(function(){var n;if(!g){N();return}if(void 0!==y){if(!y.connected){N(),console.warn("Trying to use a disconnected simulator client.");return}(n=(0,i.Z)(function(){return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,y.setSliceZone([p])];case 1:return n.sent(),[2]}})}),function(){return n.apply(this,arguments)})().then(function(){C()}).catch(function(){N()})}},[y,p,g]);var R,E,j,z,T,q,W,D,H,I=(0,s.useState)(),M=I[0],O=I[1],P=(R=function(n){var e;O({height:n.blockSize,width:n.inlineSize})},j=(0,s.useRef)(),(0,s.useCallback)(function(n){var e;null===(e=j.current)||void 0===e||e.disconnect(),null!==n&&(j.current=new ResizeObserver(function(e){var r,t=(0,c.Z)(e,1)[0].contentRect;R({blockSize:t.height,inlineSize:t.width},n)}),j.current.observe(n))},[]));return(0,a.jsxs)(l.kC,{ref:P,sx:(0,o.Z)({alignItems:"center",backgroundColor:"headSection",backgroundImage:"url(/pattern.png)",backgroundRepeat:"repeat",backgroundSize:"10px",border:S?void 0:function(n){var e;return"1px solid ".concat(String(null===(e=n.colors)||void 0===e?void 0:e.darkBorder))},borderRadius:S?void 0:8,display:"flex",height:"100%",justifyContent:"center",overflow:"hidden"},void 0!==_&&_?{display:"none"}:{}),children:[g?(0,a.jsx)("iframe",{id:"__iframe-renderer",ref:k,src:g,style:(0,o.Z)({border:"none",maxHeight:"".concat(b.height,"px"),maxWidth:"".concat(b.width,"px"),minHeight:"".concat(b.height,"px"),minWidth:"".concat(b.width,"px"),overflowY:"auto"},M?{transform:"scale(".concat((z=b,T=M,q=z.height,W=z.width,D=T.height,H=T.width,W>H||q>D?W-H>q-D?H/W:D/q:1),")")}:{display:"none"})}):null,(null==y?void 0:y.connected)?(0,a.jsx)("div",{id:"__iframe-ready"}):null]})}},37489:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return w}});var t=r(52322),i=r(4597),o=r(62230),c=r(85244),u=r(2784),a=r(87608),s=r(25242),l=r(53559),d=function(n){var e=n.variationID,r=n.slice;return(0,u.useMemo)(function(){var n,t=(null===(n=r.mocks)||void 0===n?void 0:n.find(function(n){return n.variation===e}))||(0,a.W)(e),i=(0,c.Z)((0,o.Z)({},(0,s.renderSliceMock)(l.id.fromSM(r.model),t)),{id:r.model.id});return{editorContent:t,apiContent:i}},[r.mocks,r.model,e])},f=r(57880),v=r(39092),h=r(5632),m=r(56580),p=r(75289),b=function(n){var e=n.children;return(0,t.jsx)(t.Fragment,{children:e})},g=function(n){var e=n.slice,r=n.variation,o=(0,m.v9)(function(n){return{simulatorUrl:(0,v.x0)(n)}}).simulatorUrl,c=(0,h.useRouter)(),u=Number(c.query.screenWidth),a=Number(c.query.screenHeight),s=d({slice:e,variationID:r.id}).apiContent;return void 0===o?null:(0,t.jsx)(p.xu,{as:"main",sx:{height:"100vh",width:"100vw",border:"none"},children:(0,t.jsx)(i.Z,{simulatorUrl:o,apiContent:s,screenDimensions:{width:u,height:a},isScreenshot:!0})})},_=(0,f.y)(g);_.CustomLayout=b;var w=_},28684:function(n,e,r){"use strict";var t=r(92521),i=r(90374),o=r(5632),c=r(2784),u=r(56580),a=function(){var n=(0,o.useRouter)(),e=(0,i.Z)().initSliceStore,r=(0,u.v9)(function(e){return{slice:(0,t.tL)(e,n.query.lib,n.query.sliceName)}}).slice;if((0,c.useEffect)(function(){r?e(r):n.replace("/")},[e,r,n]),!r)return{};var a=r.model.variations.find(function(e){return e.id===n.query.variation});return a?{slice:r,variation:a}:(n.replace("/"),{})};e.Z=a},57880:function(n,e,r){"use strict";r.d(e,{y:function(){return u}});var t=r(62230),i=r(52322);r(2784);var o=r(28684),c=r(95583),u=function(n){return function(e){var r=e.pageProps,u=(0,o.Z)(),a=u.slice,s=u.variation;return a&&s?(0,i.jsx)(n,(0,t.Z)({slice:a,variation:s},r)):((0,c.gx)("/"),null)}}},87608:function(n,e,r){"use strict";r.d(e,{W:function(){return t}});var t=function(n){return{__TYPE__:"SharedSliceContent",variation:n,primary:{},items:[]}}}},function(n){n.O(0,[746,774,888,179],function(){return n(n.s=98528)}),_N_E=n.O()}]);