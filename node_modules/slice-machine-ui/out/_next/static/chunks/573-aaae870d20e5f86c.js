(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{56577:function(e,n,i){"use strict";i.d(n,{z:function(){return u}});var r=i(62230),t=i(85244),s=i(98240),o=i(52322),l=i(2784),a=i(75289),c=function(e,n){return e?"".concat(e,"-").concat(n):""},d=function(e){switch(e){case"white":case"secondaryMedium":case"secondarySmall":case"secondary":return"#1A1523";default:return"grey01"}},u=(0,l.forwardRef)(function(e,n){var i=e.label,l=e.Icon,u=e.type,x=e.form,p=e.isLoading,f=void 0!==p&&p,h=e.disabled,v=e.onClick,g=e.sx,j=e.iconSize,m=void 0===j?16:j,b=e.iconFill,C=e.variant,y=void 0===C?"primary":C,F=(0,s.Z)(e,["label","Icon","type","form","isLoading","disabled","onClick","sx","iconSize","iconFill","variant"]);return(0,o.jsx)(a.zx,(0,t.Z)((0,r.Z)({ref:n,sx:(0,r.Z)((0,t.Z)((0,r.Z)({},void 0===g?{}:g),{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}),f?{cursor:"wait !important"}:{}),type:u,form:x,disabled:void 0!==h&&h||f,onClick:f?void 0:v,variant:y},F),{children:f?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.$j,{size:m,color:d(y),"data-cy":c(F["data-cy"],"spinner")}),l&&i]}):(0,o.jsxs)(o.Fragment,{children:[l&&(0,o.jsx)(l,{size:m,fill:b,"data-cy":c(F["data-cy"],"icon")}),i]})}))})},84449:function(e,n,i){"use strict";i.d(n,{Z:function(){return A}});var r,t,s=i(62230),o=i(85244),l=i(52322),a=i(2784),c=i(56580),d=i(75289),u=i(54132),x=i(951),p=i(75100),f=i(25812),h=i(77174),v=i(24340),g=i(90374),j=i(22710),m=i(99267),b=i(76473),C=i(75329),y=i(57282),F=function(e){var n=e.inputFile,i=e.handleFile,r=e.children,t=e.isDragActive;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.__,{htmlFor:"input-file",variant:"buttons.white",sx:{p:2,px:0,display:"flex",justifyContent:"center",width:200,alignItems:"center",flex:1},children:r||"Select file"}),(0,l.jsx)("input",{id:"input-file",type:"file",ref:n,style:{display:"none"},accept:C.nG.map(function(e){return"image/".concat(e)}).join(","),onChange:function(e){var n;i(null===(n=e.target.files)||void 0===n?void 0:n[0],t)}})]})},E=i(32665),w=i(3098),S=i(61931),D=function(){return(0,l.jsx)(d.kC,{variant:"boxes.centered",sx:{p:2,position:"absolute",height:"100%",width:"100%",background:"rgba(249, 248, 249, 0.7)",backdropFilter:"blur(5px)",zIndex:"1",pointerEvents:"none"},children:(0,l.jsxs)(d.kC,{variant:"boxes.centered",sx:{border:"1px dashed #6E56CF",height:"100%",width:"100%",borderRadius:"4px"},children:[(0,l.jsx)(I,{isActive:!0}),(0,l.jsx)(d.xv,{sx:{my:2},children:"Drop file here"}),(0,l.jsx)(d.xv,{variant:"secondary",children:"Maximum upload size file: 128Mb"})]})})},I=function(e){var n=e.isActive;return(0,l.jsx)(d.kC,{sx:{p:1,borderRadius:"50%",bg:n?"#F1EEFE":"#EDECEE",alignItems:"center",justifyContent:"center",width:"48px",height:"48px"},children:(0,l.jsx)(x.IEK,{style:{color:n?"#6E56CF":"#6F6E77",fontSize:"34px"}})})},k=function(e){var n=e.variationID,i=e.slice,r=e.imageTypes,t=void 0===r?C.nG:r,u=i.screenshots[n],x=(0,g.Z)().openToaster,p=(0,a.useState)(!1),f=p[0],h=p[1],v=(0,a.useState)(!1),k=v[0],R=v[1];(0,b.y1)(["meta+v","ctrl+v"],function(){N()},[n,i,]);var Z,_,M,z,H,O=(0,g.Z)().generateSliceCustomScreenshot,A=(0,c.v9)(function(e){return{isLoadingScreenshot:(0,E.hg)(e,w.z.GENERATE_SLICE_CUSTOM_SCREENSHOT)}}).isLoadingScreenshot,L=(_=(Z={onHandleFile:function(e,r){O(n,i,e,r?"dragAndDrop":"upload"),R(!1)}}).onHandleFile,M=(0,a.useRef)(null),{handleFile:z=function(e,n){e&&(_(e,n),(null==M?void 0:M.current)&&(M.current.value=""))},inputFile:M,FileInputRenderer:F,fileInputProps:{inputFile:M,handleFile:z}}),T=L.FileInputRenderer,V=L.fileInputProps,P=function(e){if(e.size>128e6)return x("File is too big. Max file size: 128Mb.",y.Jf.ERROR);O(n,i,e,"dragAndDrop")},B="function"==typeof navigator.clipboard.read,N=(H=(0,j.Z)(function(){var e,n,i,r,s;return(0,m.__generator)(this,function(o){switch(o.label){case 0:if(!B)return[2];o.label=1;case 1:return o.trys.push([1,5,,6]),[4,navigator.clipboard.read()];case 2:if(!(void 0!==(e=o.sent())[0])||!(void 0!==(n=e[0].types.find(function(e){return t.map(function(e){return"image/".concat(e)}).includes(e)}))))return[3,4];return[4,e[0].getType(n)];case 3:return i=o.sent(),r=new File([i],"file"),[2,P(r)];case 4:return[3,6];case 5:return s=o.sent(),console.error("Could not paste file",s),[3,6];case 6:return[2]}})}),function(){return H.apply(this,arguments)}),W=function(e){e.preventDefault(),h(!1);var n,i=null===(n=e.dataTransfer.files)||void 0===n?void 0:n[0];if(void 0!==i)return t.some(function(e){return"image/".concat(e)===i.type})?P(i):x("Only files of type ".concat(t.join(", ")," are accepted."),y.Jf.ERROR)},G=function(e){return function(n){n.preventDefault(),h(e)}},q=function(e){return function(n){n.preventDefault(),R(e)}};return(0,l.jsxs)(d.kC,{as:"form",variant:"boxes.centered",sx:{bg:"#F9F8F9",position:"relative",borderRadius:"6px",height:"320px"},onDragEnter:G(!0),onDragLeave:G(!1),onDragOver:G(!0),onMouseEnter:q(!0),onMouseLeave:q(!1),onSubmit:function(e){return e.preventDefault()},onDrop:W,children:[A?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.$j,{}),(0,l.jsx)(d.xv,{sx:{my:2},children:"Uploading file ..."})]}):null,A||void 0===u?null:(0,l.jsx)(S.q,{src:u.url,sx:{width:"100%",height:"100%",maxHeight:"100%",backdropFilter:"blur(5px)"}}),A?null:(0,l.jsx)(d.kC,{sx:{p:2,position:"absolute",width:"100%",height:"100%",borderRadius:"6px",background:"#F9F8F9B2",justifyContent:"center",alignItems:"center",visibility:k||void 0===u?"visible":"hidden"},children:(0,l.jsx)(d.kC,{variant:"boxes.centered",sx:{border:"1px dashed #6E56CF",height:"100%",width:"100%",borderRadius:"4px"},children:(0,l.jsxs)(d.kC,{sx:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,l.jsx)(I,{isActive:f}),(0,l.jsx)(d.xv,{sx:{my:2},children:B?"Paste, drop or ...":"Drop or ..."}),(0,l.jsx)(T,(0,o.Z)((0,s.Z)({},V),{isDragActive:f})),(0,l.jsx)(d.xv,{sx:{color:"greyIcon",mt:1},children:"Maximum file size: 128Mb"})]})})}),f?(0,l.jsx)(D,{}):null]})},R=function(e){return(0,l.jsxs)("svg",(0,o.Z)((0,s.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_5065_192538)",children:[(0,l.jsx)("path",{d:"M9.66862 19.9993C11.1406 19.9993 12.3353 18.8047 12.3353 17.3327V14.666H9.66862C8.19662 14.666 7.00195 15.8607 7.00195 17.3327C7.00195 18.8047 8.19662 19.9993 9.66862 19.9993Z",fill:"#0ACF83"}),(0,l.jsx)("path",{d:"M7.00195 12.0007C7.00195 10.5287 8.19662 9.33398 9.66862 9.33398H12.3353V14.6673H9.66862C8.19662 14.6673 7.00195 13.4727 7.00195 12.0007Z",fill:"#A259FF"}),(0,l.jsx)("path",{d:"M7.00195 6.66667C7.00195 5.19467 8.19662 4 9.66862 4H12.3353V9.33333H9.66862C8.19662 9.33333 7.00195 8.13867 7.00195 6.66667Z",fill:"#F24E1E"}),(0,l.jsx)("path",{d:"M12.334 4H15.0007C16.4727 4 17.6673 5.19467 17.6673 6.66667C17.6673 8.13867 16.4727 9.33333 15.0007 9.33333H12.334V4Z",fill:"#FF7262"}),(0,l.jsx)("path",{d:"M17.6673 12.0007C17.6673 13.4727 16.4727 14.6673 15.0007 14.6673C13.5287 14.6673 12.334 13.4727 12.334 12.0007C12.334 10.5287 13.5287 9.33398 15.0007 9.33398C16.4727 9.33398 17.6673 10.5287 17.6673 12.0007Z",fill:"#1ABCFE"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_5065_192538",children:(0,l.jsx)("rect",{width:"10.6688",height:"16",fill:"white",transform:"translate(7 4)"})})})]}))};(t=r||(r={})).Mac="Mac",t.Linux="Linux",t.Windows="Windows";var Z=function(){var e=navigator.userAgent,n=r.Linux;return Object.values(r).forEach(function(i){e.includes(i)&&(n=i)}),n};i(61213);var _=function(e){var n=e.children;return(0,l.jsx)("kbd",{className:"_1nkpwww0 _1ecs97d9sg _1ecs97d6ee _1ecs97d6lr _1ecs97d18 _1ecs97d8l _1ecs97d268 _1ecs97d2dl _1ecs97d9ej _1ecs97d9ex",children:n})},M=function(){var e,n=[r.Windows,r.Linux].includes(Z())?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_,{children:"ctrl"})," + ",(0,l.jsx)(_,{children:"shift"})," + ",(0,l.jsx)(_,{children:"c"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_,{children:"cmd"})," + ",(0,l.jsx)(_,{children:"shift"})," + ",(0,l.jsx)(_,{children:"c"})]});return(0,l.jsxs)(d.kC,{sx:{pl:"4px",alignItems:"center",color:"#000",borderRadius:"6px",fontSize:"12px",lineHeight:"24px",border:"1px solid #E4E2E4",boxShadow:"0px 1px 0px 0px rgba(0, 0, 0, 0.04)",width:"100%",minHeight:"40px"},children:[(0,l.jsx)(R,{}),(0,l.jsxs)("div",{children:["Use\xa0",n," to copy any frame as .png, then just paste it here"]})]})},z=function(e){var n=e.isValid;return(0,l.jsx)(d.kC,{sx:{p:2,border:"1px solid #E4E2E4",borderRadius:"6px",bg:"#FFF"},children:n?(0,l.jsx)(x.Ypm,{style:{fontSize:"16px"}}):(0,l.jsx)(p.j6O,{style:{fontSize:"16px",color:"#ED811C"}})})},H=function(e){var n=e.slice,i=e.onSelectVariation,r=e.variationSelector;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.X6,{as:"h4",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n.model.name}),(0,l.jsx)(d.xu,{children:(0,l.jsx)(d.xu,{as:"ul",sx:{pl:0,my:3},children:n.model.variations.map(function(e){var t=r.sliceID,a=r.variationID,c=t===n.model.id&&a===e.id;return(0,l.jsx)(d.xu,{as:"li",sx:(0,o.Z)((0,s.Z)({listStyle:"none",my:2,p:2,cursor:"pointer",borderRadius:"4px"},c&&{bg:"#EDECEE",fontWeight:"500"}),{":hover":{bg:"#EDECEE"}}),onClick:function(){return i({sliceID:n.model.id,variationID:e.id})},children:(0,l.jsxs)(d.kC,{sx:{alignItems:"center"},children:[(0,l.jsx)(z,{isValid:!!n.screenshots[e.id]}),(0,l.jsx)(d.xv,{sx:{ml:2},children:e.name})]})},"".concat(n.model.id,"-").concat(e.id))})})})]})},O=function(e,n){return e||(n.length?{sliceID:n[0].model.id,variationID:n[0].model.variations[0].id}:void 0)},A=function(e){var n=e.slices,i=e.defaultVariationSelector,r=(0,g.Z)().closeModals,t=(0,c.v9)(function(e){return{isOpen:(0,h.gP)(e,v.q.SCREENSHOTS)}}).isOpen,s=(0,a.useState)(O(i,n)),o=s[0],x=s[1];if((0,a.useEffect)(function(){x(O(i,n))},[null==i?void 0:i.sliceID,null==i?void 0:i.variationID,t,]),0===n.length||!o)return null;var p,j="function"==typeof navigator.clipboard.read;return(0,l.jsx)(f.Z,{isOpen:t,shouldCloseOnOverlayClick:!0,onRequestClose:function(){return r()},children:(0,l.jsx)(u.Z,{radius:"0px",bodySx:{p:0,bg:"#FFF",position:"relative"},sx:{border:"none"},Header:function(e){var n=e.radius;return(0,l.jsxs)(d.kC,{sx:{position:"sticky",top:0,zIndex:1,background:"gray",p:"16px",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:n,borderTopRightRadius:n,borderBottom:function(e){var n;return"1px solid ".concat(String(null===(n=e.colors)||void 0===n?void 0:n.borders))}},children:[(0,l.jsx)(d.X6,{sx:{fontSize:"20px"},children:"Slice screenshots"}),(0,l.jsx)(d.x8,{type:"button",onClick:function(){return r()}})]})},Footer:null,children:(0,l.jsxs)(d.xu,{sx:{display:"flex",flexWrap:"wrap",height:"100%"},children:[(0,l.jsx)(d.xu,{sx:{p:3,bg:"grey07",flexGrow:1,overflow:"auto",maxHeight:"100%",flexBasis:"sidebar"},children:n.map(function(e,n){return(0,l.jsx)(H,{slice:e,variationSelector:o,onSelectVariation:x},"".concat(e.model.id,"-").concat(n))})}),(0,l.jsxs)(d.kC,{as:"main",sx:{p:3,flexGrow:99999,flexBasis:0,flexDirection:"column",minWidth:320,gap:"8px"},children:[j?(0,l.jsx)(M,{}):void 0,(p=n.find(function(e){return e.model.id===o.sliceID}))?(0,l.jsx)(k,{variationID:o.variationID,slice:p}):null]})]})})})}},47731:function(e,n,i){"use strict";i.d(n,{H:function(){return s}});var r=i(2784),t=i(90374),s=function(){var e=(0,t.Z)().openScreenshotsModal,n=(0,r.useState)({sliceFilterFn:function(e){return e}}),i=n[0],s=n[1];return{modalPayload:i,onOpenModal:function(n){s(n),e()},openScreenshotsModal:e}}},61213:function(){}}]);