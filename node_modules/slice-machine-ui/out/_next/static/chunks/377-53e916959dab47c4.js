(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{96377:function(e,n,t){"use strict";t.d(n,{Z:function(){return S}});var i=t(62230),s=t(85244),r=t(17064),d=t(81541),a=t(52322),c=t(21658),o=t(13980),l=t(2784),u=t(65077),p=t(75289),f=t(28173),x=t(75012),h=t(9620),y=t(2967),j=t(71168),g=t(51579),m=t(13394),b=t(99968),v=t(92809),R=function(e){var n=e.fields,t=e.title,r=e.tabId,d=e.enterEditMode,c=e.enterSelectMode,o=e.onDragEnd,l=e.renderFieldAccessor,u=e.onDeleteItem,f=e.showHints,x=e.newField,h=e.renderHintBase,R=e.isRepeatable,C=e.dataCy,_=e.isRepeatableCustomType,w=e.sx;return(0,a.jsx)(y.Z5,{onDragEnd:o,children:(0,a.jsx)(y.bK,{droppableId:t,children:function(e,t){return(0,a.jsxs)(p.xu,(0,s.Z)((0,i.Z)({as:"ul",ref:e.innerRef},e.droppableProps),{"data-cy":C,sx:w,children:[n.map(function(e,n){var o=e.value,x=o.config,y=o.type,C=(0,b.t)(m,x,y);if(!C)return(0,a.jsx)(j.Z,{children:(0,a.jsxs)(p.xv,{children:['Field type "',y,'" not supported']})});var w={item:e,index:n,tabId:r,widget:C,showHints:f,key:e.key,enterSelectMode:c,renderFieldAccessor:l,enterEditMode:d,parentSnapshot:t,deleteItem:u,draggableId:"list-item-".concat(e.key),isRepeatableCustomType:_};if(C.CustomListItem){var S=C.CustomListItem;return(0,a.jsx)(S,(0,i.Z)({},w))}var I=(0,a.jsx)(v.Z,{item:e,show:f,isRepeatable:R,renderHintBase:h,Widgets:m,typeName:C.CUSTOM_NAME||C.TYPE_NAME});return(0,a.jsx)(g.Z,(0,s.Z)((0,i.Z)({},w),{HintElement:I}))}),e.placeholder,x]}))}})})},C=function(e){var n=e.onEnterSelectMode,t=e.zoneName;return(0,a.jsxs)(p.xu,{sx:{textAlign:"center",my:4},children:[(0,a.jsx)(p.X6,{as:"h5",children:"Add a new field here"}),(0,a.jsx)(p.xu,{sx:{my:2},children:(0,a.jsxs)(p.xv,{sx:{color:"textClear"},children:["Add a field to your ",t," Zone"]})}),(0,a.jsx)(p.xu,{sx:{display:"flex",justifyContent:"center",marginTop:16},children:(0,a.jsx)(c.zx,{variant:"secondary",onClick:function(){return n()},"data-cy":"add-".concat(t,"-field"),startIcon:"add",children:"Add a new field"})})]})},_=function(e){var n=e.Heading,t=e.Actions;return(0,a.jsxs)(p.kC,{bg:"grey02",sx:{pl:3,pr:2,py:2,mb:2,borderRadius:"6px",alignItems:"center",minHeight:"51px",justifyContent:"space-between"},children:[(0,a.jsx)(p.kC,{sx:{alignItems:"center"},children:n}),(0,a.jsx)(p.kC,{sx:{alignItems:"center"},children:t})]})},w=function(e){var n=e.zoneType,t=e.tabId,o=e.title,y=e.fields,j=e.poolOfFieldsToCheck,g=e.widgetsArray,m=e.isRepeatable,b=e.onDeleteItem,v=e.onSaveNewField,w=e.onDragEnd,S=e.EditModal,I=e.onSave,Z=e.dataTip,k=e.renderHintBase,E=e.renderFieldAccessor,A=e.dataCy,T=e.isRepeatableCustomType,H="customType"===n,N=Object.entries(j).find(function(e){return"UID"===(0,r.Z)(e,2)[1].value.type})?g.filter(function(e){return"UID"!==e.TYPE_NAME}):g,F=(0,l.useState)(!1),M=F[0],O=F[1],q=(0,l.useState)({isOpen:!1}),z=q[0],D=q[1],B=(0,l.useState)({isOpen:!1}),P=B[0],U=B[1],L=(0,l.useState)(null),X=L[0],Y=L[1],G=function(e){D({isOpen:!0,field:e})},K=function(){U({isOpen:!0})},W=function(){D({isOpen:!1})},J=function(){return U({isOpen:!1})},Q=function(e){Y({widgetTypeName:e,fields:y}),U({isOpen:!1})},V=function(){return Y(null)};return(0,a.jsxs)(f.a,{children:[H?(0,a.jsx)(f.B,{actions:y.length>0?(0,a.jsxs)(c.hE,{size:"medium",variant:"secondary",children:[(0,a.jsxs)(c.zx,{variant:"secondary",onClick:function(){return O(!M)},children:[M?"Hide":"Show"," code snippets"]}),(0,a.jsx)(c.zx,{variant:"secondary",onClick:function(){return K()},"data-cy":"add-".concat(m?"Repeatable":"Static","-field"),startIcon:"add",children:"Add a new field"})]}):void 0,children:o}):(0,a.jsx)(u.xR,{children:(0,a.jsx)(_,{Heading:(0,a.jsx)(p.X6,{as:"h6",children:o}),Actions:y.length>0?(0,a.jsxs)(c.hE,{size:"medium",variant:"secondary",children:[(0,a.jsxs)(c.zx,{variant:"secondary",onClick:function(){return O(!M)},children:[M?"Hide":"Show"," code snippets"]}),(0,a.jsx)(c.zx,{variant:"secondary",onClick:function(){return K()},"data-cy":"add-".concat(m?"Repeatable":"Static","-field"),startIcon:"add",children:"Add a new field"})]}):null})}),0!==y.length||X?y.length>0||X?(0,a.jsx)(u.xR,{children:(0,a.jsx)(R,{tabId:t,isRepeatable:m,fields:y,showHints:M,dataTip:Z,title:o,renderFieldAccessor:E,renderHintBase:k,enterEditMode:G,enterSelectMode:K,onDragEnd:w,onDeleteItem:b,dataCy:A,isRepeatableCustomType:T,newField:X&&(0,a.jsx)(h.Z,(0,s.Z)((0,i.Z)({},X),{fields:j||y,onSave:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];v.apply(void 0,(0,d.Z)(n)),Y(null)},onCancelNewField:V})),sx:H?{paddingInline:"16px !important"}:{}})}):void 0:(0,a.jsx)(u.xR,{children:(0,a.jsx)(C,{onEnterSelectMode:function(){return K()},zoneName:m?"Repeatable":"Static"})}),(0,a.jsx)(S,{data:z,close:W,onSave:I,fields:j,zoneType:n}),(0,a.jsx)(x.Z,{data:P,close:J,onSelect:Q,widgetsArray:N})]})};w.propTypes={isRepeatable:o.bool,title:o.string.isRequired,dataTip:o.string.isRequired,onSave:o.func.isRequired,onSaveNewField:o.func.isRequired,onDragEnd:o.func.isRequired,onDeleteItem:o.func.isRequired,poolOfFieldsToCheck:(0,o.arrayOf)((0,o.shape)({key:o.string,value:o.object})),renderHintBase:o.func.isRequired,renderFieldAccessor:o.func.isRequired,widgetsArray:o.array.isRequired,fields:(0,o.arrayOf)((0,o.shape)({key:o.string.isRequired,value:(0,o.shape)({config:o.object,fields:o.array,type:o.string.isRequired})}))};var S=w},28173:function(e,n,t){"use strict";t.d(n,{a:function(){return c},B:function(){return o}});var i=t(62230),s=t(85244),r=t(98240),d=t(52322),a=t(21658);t(52968);var c=function(e){return(0,d.jsx)("article",(0,s.Z)((0,i.Z)({},e),{className:"_2a96i70 _1ecs97d9bi _1ecs97d9bk _1ecs97d9bt"}))},o=function(e){var n=e.actions,t=e.children,c=e.toggle,o=(0,r.Z)(e,["actions","children","toggle"]);return(0,d.jsxs)("header",(0,s.Z)((0,i.Z)({},o),{className:"_2a96i71 _1ecs97d9bi _1ecs97d9bk _1ecs97d9bq _1ecs97dm _1ecs97d7z _1ecs97d48s _1ecs97d4g5 _1ecs97d9eo _1ecs97d9f1 _1ecs97d9bj _1ecs97d9bu _1ecs97d9l0 _1ecs97d9j4 _1ecs97d9rc _1ecs97d9ro",children:[(0,d.jsx)(a.xv,{color:"grey11",component:"span",variant:"smallBold",children:t}),c,(0,d.jsx)(a.xu,{flexGrow:1,justifyContent:"end",children:n})]}))}},52968:function(){}}]);