(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{56577:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var r=n(62230),s=n(85244),o=n(98240),a=n(52322),c=n(2784),i=n(75289),l=function(e,t){return e?"".concat(e,"-").concat(t):""},u=function(e){switch(e){case"white":case"secondaryMedium":case"secondarySmall":case"secondary":return"#1A1523";default:return"grey01"}},d=(0,c.forwardRef)(function(e,t){var n=e.label,c=e.Icon,d=e.type,m=e.form,p=e.isLoading,h=void 0!==p&&p,f=e.disabled,x=e.onClick,y=e.sx,b=e.iconSize,v=void 0===b?16:b,g=e.iconFill,j=e.variant,_=void 0===j?"primary":j,C=(0,o.Z)(e,["label","Icon","type","form","isLoading","disabled","onClick","sx","iconSize","iconFill","variant"]);return(0,a.jsx)(i.zx,(0,s.Z)((0,r.Z)({ref:t,sx:(0,r.Z)((0,s.Z)((0,r.Z)({},void 0===y?{}:y),{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}),h?{cursor:"wait !important"}:{}),type:d,form:m,disabled:void 0!==f&&f||h,onClick:h?void 0:x,variant:_},C),{children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.$j,{size:v,color:u(_),"data-cy":l(C["data-cy"],"spinner")}),c&&n]}):(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)(c,{size:v,fill:g,"data-cy":l(C["data-cy"],"icon")}),n]})}))})},70041:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(62230),s=n(52322);n(2784);var o=n(63397),a=n(75289),c=function(e){var t=e.name,n=e.label,c=e.placeholder,i=e.error,l=e.dataCy,u=e.onChange;return(0,s.jsxs)(a.xu,{mb:3,children:[(0,s.jsx)(a.__,{htmlFor:t,mb:2,children:n}),(0,s.jsx)(o.gN,(0,r.Z)({name:t,type:"text",placeholder:c,as:a.II,autoComplete:"off"},u?{onChange:u}:null,l?{"data-cy":l}:null)),i?(0,s.jsx)(a.xv,{"data-cy":l?"".concat(l,"-error"):"input-error",sx:{color:"error",mt:1},children:i}):null]})}},68780:function(e,t,n){"use strict";var r=n(62230),s=n(85244),o=n(52322),a=n(37149),c=n.n(a),i=n(25812),l=n(63397),u=n(75289),d=n(56577),m=n(54132);t.Z=function(e){var t=e.children,n=e.close,a=e.isOpen,p=e.formId,h=e.validate,f=e.onSubmit,x=e.widthInPx,y=e.initialValues,b=e.content.title,v=e.cardProps,g=e.omitFooter,j=void 0!==g&&g,_=e.isLoading,C=void 0!==_&&_,Z=e.buttonLabel,S=void 0===Z?"Save":Z,k=e.dataCy,T=e.actionMessage;return c().setAppElement("#__next"),(0,o.jsx)(i.Z,{isOpen:a,shouldCloseOnOverlayClick:!0,onRequestClose:n,contentLabel:b,style:{content:{width:null!=x?x:"900px"}},children:(0,o.jsx)(l.J9,{validateOnChange:!0,initialValues:y,validate:function(e){return h?h(e):void 0},onSubmit:function(e){f(e)},children:function(e){var a=e.isValid,c=e.isSubmitting,i=e.values,h=e.errors,f=e.touched,x=e.setFieldValue,y=e.setValues;return(0,o.jsx)(l.l0,(0,s.Z)((0,r.Z)({id:p},null!=k?{"data-cy":k}:null),{children:(0,o.jsx)(m.Z,(0,s.Z)((0,r.Z)({borderFooter:!0,footerSx:{p:3,position:"sticky",bottom:0,background:"gray"},bodySx:{px:4,py:4},sx:{border:"none"}},v),{Header:function(e){var t=e.radius;return(0,o.jsxs)(u.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",pl:4,bg:"headSection",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:t,borderTopRightRadius:t,borderBottom:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.borders)}},children:[(0,o.jsx)(u.X6,{sx:{fontSize:"20px"},children:b}),(0,o.jsx)(u.x8,{type:"button",onClick:n})]})},Footer:j?null:(0,o.jsxs)(u.kC,{sx:{alignItems:"space-between"},children:[(0,o.jsx)(u.kC,{sx:{fontSize:"14px",alignItems:"center"},children:"function"==typeof T?T(e):T}),(0,o.jsxs)(u.kC,{sx:{ml:"auto"},children:[(0,o.jsx)(u.zx,{mr:2,type:"button",onClick:n,variant:"secondary",disabled:c||C,children:"Cancel"}),(0,o.jsx)(d.z,{label:S,form:p,type:"submit",disabled:!a||c||C,isLoading:c||C,sx:{fontWeight:"400",paddingBlock:"8px",paddingInline:"16px",fontSize:"14px",borderRadius:"4px"}})]})]}),children:t({isValid:a,isSubmitting:c,values:i,errors:h,touched:f,setFieldValue:x,setValues:y})}))}))}})})}},2754:function(e,t,n){"use strict";n.d(t,{R$:function(){return u},Qj:function(){return f},T9:function(){return m},nf:function(){return h},u2:function(){return d},_T:function(){return p}});var r=n(67557),s=n(62230),o=n(85244),a=n(98240),c=n(52322),i=n(6277),l=n(21658);n(1919);var u=function(e){var t=e.backgroundImage,n=e.style,l=(0,a.Z)(e,["backgroundImage","style"]),u=void 0!==t;return(0,c.jsx)("article",(0,o.Z)((0,s.Z)({},l),{className:(0,i.Z)("_18bjhbz0 _1ecs97d9bi _1ecs97d9bj _1ecs97d9bk _1ecs97d9bt _1ecs97d9sy _1ecs97d9t0 _1ecs97d9t2 _1ecs97dm _1ecs97d7z _1ecs97d268 _1ecs97d2dl _1ecs97d9d7 _1ecs97d9ej _1ecs97d9ex _1ecs97d9c7",(0,r.Z)({},"_18bjhbz1 _1ecs97d9cf _1ecs97d9h3",u)),style:(0,s.Z)({backgroundImage:u?"url(".concat(t,")"):void 0},n)}))},d=function(e){return(0,c.jsx)("div",(0,o.Z)((0,s.Z)({},e),{className:"_1ecs97d9bi _1ecs97d9bj _1ecs97d9bk _1ecs97d9bt _1ecs97d48s _1ecs97d4g5 _1ecs97d9ep _1ecs97d9f1 _1ecs97d9c7"}))},m=function(e){return(0,c.jsx)("div",(0,o.Z)((0,s.Z)({},e),{className:"_18bjhbz3 _1ecs97d9bi _1ecs97d9bj _1ecs97d9bk _1ecs97d9bt _1ecs97d9q5"}))},p=function(e){return(0,c.jsx)(l.xv,(0,o.Z)((0,s.Z)({},e),{className:"_18bjhbz4"}))},h=function(e){return(0,c.jsx)(l.xv,(0,o.Z)((0,s.Z)({},e),{className:"_18bjhbz5",color:"grey11"}))},f=function(e){return(0,c.jsx)(l.hE,(0,o.Z)((0,s.Z)({},e),{className:"_18bjhbz6 _1ecs97d9l3 _1ecs97d9bq _1ecs97d9nl",size:"medium",variant:"secondary"}))}},19345:function(e,t,n){"use strict";n.d(t,{_:function(){return N}});var r=n(22710),s=n(99267),o=n(52322),a=n(2784),c=n(21658),i=n(5632),l=n(90374),u=n(62230),d=n(85244),m=n(88932),p=n(40147),h=n(78656);function f(){return(f=(0,r.Z)(function(e,t){var n,r;return(0,s.__generator)(this,function(s){switch(s.label){case 0:n=h.$[e.format],s.label=1;case 1:return s.trys.push([1,3,,4]),r=(0,d.Z)((0,u.Z)({},e),{format:"page"}),[4,p.j.customTypes.updateCustomType({model:r})];case 2:return s.sent(),t(r),m.Am.success("".concat(n.name({start:!0,plural:!1})," converted to page type")),[3,4];case 3:return s.sent(),m.Am.error("Internal Error: ".concat(n.name({start:!0,plural:!1})," not converted to page type")),[3,4];case 4:return[2]}})})).apply(this,arguments)}var x=n(67445),y=n(75289),b=n(68780),v=n(70041),g=n(56580),j=n(49471);function _(){return(_=(0,r.Z)(function(e){var t,n,r,o,a,c,i;return(0,s.__generator)(this,function(s){switch(s.label){case 0:t=e.model,n=e.newLabel,r=e.onSuccess,o=h.$[t.format],s.label=1;case 1:return s.trys.push([1,3,,4]),a=(0,d.Z)((0,u.Z)({},t),{label:n}),[4,p.j.customTypes.renameCustomType({model:a})];case 2:return s.sent(),r(a),m.Am.success("".concat(o.name({start:!0,plural:!1})," renamed")),[3,4];case 3:return c=s.sent(),i="Internal Error: ".concat(o.name({start:!0,plural:!1})," could not be renamed"),console.error(i,c),m.Am.error(i),[3,4];case 4:return[2]}})})).apply(this,arguments)}var C=function(e){var t,n,c,i=e.isChangesLocal,u=e.customType,d=e.format,m=e.onClose,p=null!==(t=null==u?void 0:u.label)&&void 0!==t?t:"",f=null!==(n=null==u?void 0:u.id)&&void 0!==n?n:"",x=(0,l.Z)(),C=x.renameAvailableCustomTypeSuccess,Z=x.renameSelectedCustomType,S=(0,a.useState)(!1),k=S[0],T=S[1],I=(c=(0,r.Z)(function(e){return(0,s.__generator)(this,function(t){switch(t.label){case 0:if(T(!0),!i)return[3,1];return Z(e.customTypeName),[3,3];case 1:return[4,function(e){return _.apply(this,arguments)}({model:u,newLabel:e.customTypeName,onSuccess:C})];case 2:t.sent(),t.label=3;case 3:return T(!1),m(),[2]}})}),function(e){return c.apply(this,arguments)}),w=(0,g.v9)(function(e){return{customTypeLabels:(0,j.YS)(e)}}).customTypeLabels,z=h.$[d];return(0,o.jsx)(b.Z,{isOpen:!0,dataCy:"rename-custom-type-modal",widthInPx:"530px",formId:"rename-custom-type-modal-".concat(f),buttonLabel:"Rename",close:m,onSubmit:function(e){I(e)},initialValues:{customTypeName:p},isLoading:k,content:{title:"Rename a ".concat(z.name({start:!1,plural:!1}))},validate:function(e){var t=e.customTypeName,n={};return t&&t.length||(n.customTypeName="Cannot be empty."),void 0!=n.customTypeName&&w.includes(t)&&p!==t&&(n.customTypeName="".concat(z.name({start:!0,plural:!1})," name is already taken.")),Object.keys(n).length>0?n:void 0},children:function(e){var t=e.errors;return(0,o.jsx)(y.xu,{children:(0,o.jsx)(v.W,{name:"customTypeName",label:"".concat(z.name({start:!0,plural:!1})," Name"),placeholder:"A display name for the ".concat(z.name({start:!1,plural:!1})),error:t.customTypeName,dataCy:"custom-type-name-input"})})}})},Z=n(25812),S=n(59326),k=n(54132),T=n(65186),I=n(56577);function w(){return(w=(0,r.Z)(function(e){var t,n,r,o,a;return(0,s.__generator)(this,function(s){switch(s.label){case 0:t=e.customType,n=e.onSuccess,r=h.$[t.format],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,p.j.customTypes.deleteCustomType({id:t.id})];case 2:return s.sent(),n(),m.Am.success("".concat(r.name({start:!0,plural:!1})," deleted")),[3,4];case 3:return o=s.sent(),a="Internal Error: ".concat(r.name({start:!0,plural:!1})," could not be deleted"),console.error(a,o),[3,4];case 4:return[2]}})})).apply(this,arguments)}var z=function(e){var t,n=e.customType,c=e.format,i=e.onClose,u=e.onDeleteCustomTypeSuccess,d=h.$[c],m=(0,a.useState)(!1),p=m[0],f=m[1],x=(0,l.Z)().deleteCustomTypeSuccess,b=(t=(0,r.Z)(function(){return(0,s.__generator)(this,function(e){switch(e.label){case 0:return f(!0),[4,function(e){return w.apply(this,arguments)}({customType:n,onSuccess:function(){return x(n.id)}})];case 1:return e.sent(),u(),[2]}})}),function(){return t.apply(this,arguments)}),v=(0,S.B7)().theme;return(0,o.jsx)(Z.Z,{isOpen:!0,shouldCloseOnOverlayClick:!0,style:{content:{maxWidth:612}},onRequestClose:function(){return i()},children:(0,o.jsx)(k.Z,{bodySx:{p:0,bg:"white",position:"relative",height:"100%",padding:16},footerSx:{position:"sticky",bottom:0,p:0},sx:{border:"none",overflow:"hidden"},borderFooter:!0,Header:function(){var e;return(0,o.jsxs)(y.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",alignItems:"center",justifyContent:"space-between",borderBottom:function(e){var t;return"1px solid ".concat(String(null===(t=e.colors)||void 0===t?void 0:t.borders))}},children:[(0,o.jsxs)(y.kC,{sx:{alignItems:"center"},children:[(0,o.jsx)(T.$vK,{size:20,color:null===(e=v.colors)||void 0===e?void 0:e.greyIcon}),(0,o.jsxs)(y.X6,{sx:{fontSize:"14px",fontWeight:"bold",ml:1},children:["Delete"," ",d.name({start:!1,plural:!1})]})]}),(0,o.jsx)(y.x8,{type:"button",onClick:function(){return i()}})]})},Footer:function(){return(0,o.jsxs)(y.kC,{sx:{justifyContent:"flex-end",height:64,alignItems:"center",paddingRight:16,borderTop:function(e){var t;return"1px solid ".concat(String(null===(t=e.colors)||void 0===t?void 0:t.darkBorders))},backgroundColor:"gray"},children:[(0,o.jsx)(I.z,{label:"Cancel",variant:"secondary",onClick:function(){return i()},sx:{mr:"10px",fontWeight:"bold",color:"grey12",borderRadius:6}}),void 0!==n&&(0,o.jsx)(I.z,{label:"Delete",variant:"danger",isLoading:p,onClick:function(){b()},sx:{minHeight:39,minWidth:78}})]})},children:(0,o.jsxs)("div",{children:["This action will immediately make the following change:",(0,o.jsx)("ul",{children:(0,o.jsxs)("li",{children:["Delete the"," ",(0,o.jsxs)(y.xv,{sx:{fontWeight:"bold"},children:["customtypes/",null==n?void 0:n.id,"/"]})," ","directory."]})}),"The next time you push your changes to Prismic, the following change will happen:",(0,o.jsx)("ul",{children:(0,o.jsxs)("li",{children:["Remove the"," ",d.name({start:!1,plural:!1})," and any associated Documents from your repository."]})})]})})})},N=function(e){var t,n=e.format,u=e.customType,d=e.isChangesLocal,m=(0,i.useRouter)(),p=(0,l.Z)().saveCustomTypeSuccess,h=(0,a.useState)(!1),y=h[0],b=h[1],v=(0,a.useState)(!1),g=v[0],j=v[1],_=(0,a.useState)(!1),Z=_[0],S=_[1],k=(t=(0,r.Z)(function(){var e,t;return(0,s.__generator)(this,function(n){switch(n.label){case 0:return S(!0),[4,function(e,t){return f.apply(this,arguments)}(u,p)];case 1:return n.sent(),e=x.cd.custom.getBuilderPagePathname(u.id),m.asPath===e&&(t=x.cd.page.getBuilderPagePathname(u.id),m.replace(t)),S(!1),[2]}})}),function(){return t.apply(this,arguments)}),T=function(){var e,t=x.cd[null!==(e=u.format)&&void 0!==e?e:"custom"].tablePagePathname;m.asPath!==t?m.replace(t):b(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.h_,{modal:!0,children:[(0,o.jsx)(c.$F,{disabled:Z,children:(0,o.jsx)(c.zx,{loading:Z,startIcon:"moreVert",variant:"secondary","data-testid":"editDropdown"})}),(0,o.jsxs)(c.AW,{align:"end",children:[(0,o.jsx)(c.Xi,{startIcon:(0,o.jsx)(c.I5,{name:"edit"}),onSelect:function(){j(!0)},children:"Rename"}),"custom"===n&&!d&&(0,o.jsx)(c.Xi,{startIcon:(0,o.jsx)(c.I5,{name:"driveFileMove"}),onSelect:function(){k()},children:"Convert to page type"}),(0,o.jsx)(c.Xi,{color:"tomato",startIcon:(0,o.jsx)(c.I5,{name:"delete"}),onSelect:function(){b(!0)},children:"Remove"})]})]}),y?(0,o.jsx)(z,{format:n,customType:u,onClose:function(){return b(!1)},onDeleteCustomTypeSuccess:T}):null,g?(0,o.jsx)(C,{format:n,customType:u,isChangesLocal:d,onClose:function(){return j(!1)}}):null]})}},1919:function(){}}]);