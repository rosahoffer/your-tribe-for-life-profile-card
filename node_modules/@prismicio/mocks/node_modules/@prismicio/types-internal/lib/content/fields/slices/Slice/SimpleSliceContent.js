"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SimpleSliceLegacy = exports.isSimpleSliceContent = exports.SimpleSliceContent = void 0;
const tslib_1 = require("tslib");
const t = tslib_1.__importStar(require("io-ts"));
const GroupContent_1 = require("../../GroupContent");
const nestable_1 = require("../../nestable");
exports.SimpleSliceContent = t.union([nestable_1.NestableContent, GroupContent_1.GroupContent]);
const isSimpleSliceContent = (u) => (0, nestable_1.isNestableContent)(u) || (0, GroupContent_1.isGroupContent)(u);
exports.isSimpleSliceContent = isSimpleSliceContent;
const SimpleSliceLegacy = (ctx) => {
    return {
        decode: ((0, nestable_1.NestableLegacy)(ctx) || (0, GroupContent_1.GroupLegacy)(ctx)).decode.bind(null),
        encode: (value) => {
            switch (value.__TYPE__) {
                case "GroupContentType":
                    return (0, GroupContent_1.GroupLegacy)(ctx).encode(value);
                default:
                    return (0, nestable_1.NestableLegacy)(ctx).encode(value);
            }
        },
    };
};
exports.SimpleSliceLegacy = SimpleSliceLegacy;
