import * as t from "io-ts"

import { StringOrNull } from "../../validators"
import { WidgetTypes } from "./WidgetTypes"

const UIDConfig = t.exact(
	t.partial({
		label: StringOrNull,
		useAsTitle: t.boolean,
		placeholder: t.string,
	}),
)
type UIDConfig = t.TypeOf<typeof UIDConfig>

const UID = t.exact(
	t.intersection([
		t.type({
			type: t.literal(WidgetTypes.UID),
		}),
		t.partial({
			fieldset: StringOrNull,
			config: UIDConfig,
		}),
	]),
)
type UID = t.TypeOf<typeof UID>

export default UID
