import * as t from "io-ts"

import { StringOrNull } from "../../../validators"
import { WidgetTypes } from "../WidgetTypes"

const BooleanConfig = t.exact(
	t.partial({
		label: StringOrNull,
		default_value: t.boolean,
		placeholder_true: t.string,
		placeholder_false: t.string,
	}),
)

type BooleanConfig = t.TypeOf<typeof BooleanConfig>

const BooleanField = t.exact(
	t.intersection([
		t.type({
			type: t.literal(WidgetTypes.BooleanField),
		}),
		t.partial({
			config: BooleanConfig,
		}),
	]),
)

type BooleanField = t.TypeOf<typeof BooleanField>

export default BooleanField
