import * as t from "io-ts"

import { StringOrNull } from "../../../validators"
import { WidgetTypes } from "../WidgetTypes"

const GeoPointConfig = t.exact(
	t.partial({
		label: StringOrNull,
	}),
)
type GeoPointConfig = t.TypeOf<typeof GeoPointConfig>

const GeoPoint = t.exact(
	t.intersection([
		t.type({
			type: t.literal(WidgetTypes.GeoPoint),
		}),
		t.partial({
			fieldset: StringOrNull,
			config: GeoPointConfig,
		}),
	]),
)
type GeoPoint = t.TypeOf<typeof GeoPoint>

export default GeoPoint
