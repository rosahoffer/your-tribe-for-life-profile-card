import * as t from "io-ts"

import { WidgetKey as KeyForWidgetContent } from "../documents/widgets"
import {
	GroupContent,
	NestableContent,
	SlicesContent,
	UIDContent,
} from "./fields"

export const WidgetKey = KeyForWidgetContent
export type WidgetKey = KeyForWidgetContent

const WidgetContent = t.union([
	SlicesContent,
	UIDContent,
	NestableContent,
	GroupContent,
])
export const Document = t.record(WidgetKey, WidgetContent)
export type Document = t.TypeOf<typeof Document>
