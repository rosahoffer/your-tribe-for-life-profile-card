import { Chain } from "fp-ts/Either"
import * as t from "io-ts"

export type UIDContent = {
	__TYPE__: "UIDContent"
	value: string
}

export const UIDContentType = "UIDContent"
export const UIDContent = new t.Type<UIDContent, string>(
	"UIDContent",
	(u): u is UIDContent => (u as UIDContent)?.__TYPE__ === UIDContentType,
	(u, c) =>
		Chain.chain(t.string.validate(u, c), (u) => {
			return t.success({ value: u, __TYPE__: "UIDContent" } as const)
		}),
	(uidContent) => uidContent.value,
)
