import { Chain } from "fp-ts/Either"
import * as t from "io-ts"

type BooleanContent = {
	__TYPE__: "BooleanContent"
	value: boolean
}

export const BooleanContentType = "BooleanContent"
const BooleanContent = new t.Type<BooleanContent, boolean>(
	"BooleanContent",
	(u): u is BooleanContent =>
		(u as BooleanContent)?.__TYPE__ === BooleanContentType,
	(u, c) =>
		Chain.chain(t.boolean.validate(u, c), (u) => {
			return t.success({ value: u, __TYPE__: BooleanContentType } as const)
		}),
	(booleanContent) => t.boolean.encode(booleanContent.value),
)

export default BooleanContent
