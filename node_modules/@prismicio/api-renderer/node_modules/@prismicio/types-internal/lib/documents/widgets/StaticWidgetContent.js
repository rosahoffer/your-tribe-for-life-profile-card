"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const O = (0, tslib_1.__importStar)(require("fp-ts/Option"));
const GroupContent_1 = require("./GroupContent");
const SimpleWidgetContent_1 = require("./SimpleWidgetContent");
const StaticWidgetContent = {
    fromJson: (prefixes, key, value, fieldTypes, fieldPositions) => {
        const prefixedKey = Array.of(prefixes, [key]).flat().join(".");
        const type = fieldTypes.get(prefixedKey);
        if (type === "Group") {
            return GroupContent_1.GroupContent.fromJson(prefixes, key, value, fieldTypes, fieldPositions);
        }
        else if (type) {
            return SimpleWidgetContent_1.SimpleWidgetContent.from(type, value);
        }
        else {
            return O.none;
        }
    },
    is: (value) => {
        return (SimpleWidgetContent_1.SimpleWidgetContent.is(value) ||
            GroupContent_1.GroupContentType === value.__TYPE__);
    },
};
exports.default = StaticWidgetContent;
