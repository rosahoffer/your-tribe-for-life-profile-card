"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fromGroup = exports.GroupDef = exports.GroupDefType = void 0;
const tslib_1 = require("tslib");
const function_1 = require("@prismicio/types-internal/lib/validators/function");
const t = tslib_1.__importStar(require("io-ts"));
const SimpleField_1 = require("./SimpleField");
exports.GroupDefType = "groupDef";
exports.GroupDef = (0, function_1.addType)(t.strict({
    name: t.string,
    fields: t.array(SimpleField_1.SimpleFieldDef),
}), exports.GroupDefType);
function fromGroup(key, model) {
    var _a;
    const fields = Object.entries(((_a = model.config) === null || _a === void 0 ? void 0 : _a.fields) || {}).map(([key, f]) => (0, SimpleField_1.fromSimpleField)(key, f));
    return {
        name: key,
        fields,
    };
}
exports.fromGroup = fromGroup;
