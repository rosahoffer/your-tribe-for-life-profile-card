"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fromImage = exports.ImageDef = exports.ImageDefType = void 0;
const tslib_1 = require("tslib");
const t = tslib_1.__importStar(require("io-ts"));
const mapOutput_1 = require("io-ts-types/lib/mapOutput");
exports.ImageDefType = "imageDef";
exports.ImageDef = (0, mapOutput_1.mapOutput)(t.strict({
    image: t.string,
    config: t.strict({
        thumbnails: t.array(t.string),
    }),
}), (o) => ({ name: o.image, config: o.config, __TYPE__: exports.ImageDefType }));
function fromImage(key, def) {
    var _a, _b;
    return {
        image: key,
        config: {
            thumbnails: ((_b = (_a = def.config) === null || _a === void 0 ? void 0 : _a.thumbnails) === null || _b === void 0 ? void 0 : _b.map((t) => t.name)) || [],
        },
    };
}
exports.fromImage = fromImage;
