"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fromWidget = exports.WidgetDef = exports.isStaticFieldDef = void 0;
const tslib_1 = require("tslib");
const widgets_1 = require("@prismicio/types-internal/lib/customtypes/widgets");
const t = tslib_1.__importStar(require("io-ts"));
const slices_1 = require("./slices");
const StaticField_1 = require("./StaticField");
function isStaticFieldDef(mask) {
    return (mask.__TYPE__ !== slices_1.SimpleSliceDefType &&
        mask.__TYPE__ !== slices_1.SharedSliceDefType &&
        mask.__TYPE__ !== slices_1.CompositeSliceDefType &&
        mask.__TYPE__ !== slices_1.SlicesDefType);
}
exports.isStaticFieldDef = isStaticFieldDef;
exports.WidgetDef = t.union([StaticField_1.StaticDef, slices_1.SlicesDef, slices_1.SliceDef]);
function fromWidget(key, model, sharedSlices) {
    switch (model.type) {
        case widgets_1.WidgetTypes.LegacySlices:
        case widgets_1.WidgetTypes.Slices:
            return (0, slices_1.fromSlices)(key, model, sharedSlices);
        default:
            return (0, StaticField_1.fromStatic)(key, model);
    }
}
exports.fromWidget = fromWidget;
