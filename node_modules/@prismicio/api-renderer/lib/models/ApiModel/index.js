"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fromCustomType = exports.ApiModel = void 0;
const tslib_1 = require("tslib");
const t = tslib_1.__importStar(require("io-ts"));
const WidgetDef_1 = require("./WidgetDef");
exports.ApiModel = t.strict({
    id: t.string,
    definitions: t.array(WidgetDef_1.WidgetDef),
});
function fromCustomType(model, sharedSlices) {
    const flattenWidgets = Object.values(model.json)
        .map((tab) => Object.entries(tab))
        .reduce((acc, tabEntries) => [...acc, ...tabEntries], []);
    const definitions = flattenWidgets.map(([key, widget]) => (0, WidgetDef_1.fromWidget)(key, widget, sharedSlices));
    return {
        id: model.id,
        definitions,
    };
}
exports.fromCustomType = fromCustomType;
tslib_1.__exportStar(require("./BooleanField"), exports);
tslib_1.__exportStar(require("./Color"), exports);
tslib_1.__exportStar(require("./Date"), exports);
tslib_1.__exportStar(require("./Embed"), exports);
tslib_1.__exportStar(require("./Field"), exports);
tslib_1.__exportStar(require("./GeoPoint"), exports);
tslib_1.__exportStar(require("./Group"), exports);
tslib_1.__exportStar(require("./Image"), exports);
tslib_1.__exportStar(require("./IntegrationField"), exports);
tslib_1.__exportStar(require("./Link"), exports);
tslib_1.__exportStar(require("./Number"), exports);
tslib_1.__exportStar(require("./Range"), exports);
tslib_1.__exportStar(require("./Select"), exports);
tslib_1.__exportStar(require("./Separator"), exports);
tslib_1.__exportStar(require("./SimpleField"), exports);
tslib_1.__exportStar(require("./slices"), exports);
tslib_1.__exportStar(require("./StaticField"), exports);
tslib_1.__exportStar(require("./StructuredText"), exports);
tslib_1.__exportStar(require("./Text"), exports);
tslib_1.__exportStar(require("./Timestamp"), exports);
tslib_1.__exportStar(require("./UID"), exports);
tslib_1.__exportStar(require("./WidgetDef"), exports);
